# ğŸ¦ iBanking - Há»‡ Thá»‘ng NgÃ¢n HÃ ng Trá»±c Tuyáº¿n

<div align="center">

![iBanking Logo](https://static.vecteezy.com/system/resources/previews/046/302/664/non_2x/bank-logo-icon-illustration-vector.jpg)
![Spring Boot](https://upload.wikimedia.org/wikipedia/commons/7/79/Spring_Boot.svg)
![Flutter](https://avatars.githubusercontent.com/u/14101776?s=200&v=4)
![Docker](https://images.viblo.asia/c6297f98-075f-4dd2-8bfc-9cf0d0e5ddb3.png)

**Há»‡ thá»‘ng ngÃ¢n hÃ ng há»c phÃ­ hiá»‡n Ä‘áº¡i vá»›i kiáº¿n trÃºc Microservices**

[TÃ­nh nÄƒng](#-tÃ­nh-nÄƒng) â€¢
[CÃ´ng nghá»‡](#-cÃ´ng-nghá»‡-sá»­-dá»¥ng) â€¢
[Báº¯t Ä‘áº§u](#-báº¯t-Ä‘áº§u-nhanh) â€¢
[TÃ i liá»‡u](#-tÃ i-liá»‡u) â€¢
[Kiáº¿n trÃºc](#-kiáº¿n-trÃºc-há»‡-thá»‘ng)

</div>

---

## ğŸ“‹ Tá»•ng quan

iBanking lÃ  há»‡ thá»‘ng quáº£n lÃ½ vÃ  thanh toÃ¡n há»c phÃ­ trá»±c tuyáº¿n, Ä‘Æ°á»£c xÃ¢y dá»±ng vá»›i kiáº¿n trÃºc **Microservices** hiá»‡n Ä‘áº¡i. Há»‡ thá»‘ng cho phÃ©p sinh viÃªn tra cá»©u, thanh toÃ¡n há»c phÃ­ vÃ  nháº­n thÃ´ng bÃ¡o qua email má»™t cÃ¡ch nhanh chÃ³ng vÃ  an toÃ n.

### ğŸ¯ Má»¥c tiÃªu dá»± Ã¡n

- âœ… XÃ¢y dá»±ng há»‡ thá»‘ng Microservices hoÃ n chá»‰nh
- âœ… Ãp dá»¥ng Service Discovery vÃ  API Gateway
- âœ… TÃ­ch há»£p Cache vÃ  Message Queue
- âœ… Deploy vá»›i Docker vÃ  Docker Compose
- âœ… Frontend responsive vá»›i Flutter Web

---

## âœ¨ TÃ­nh nÄƒng

### ğŸ‘¤ Quáº£n lÃ½ ngÆ°á»i dÃ¹ng
- ÄÄƒng kÃ½ tÃ i khoáº£n má»›i
- ÄÄƒng nháº­p vá»›i JWT Authentication
- PhÃ¢n quyá»n Admin/User
- Quáº£n lÃ½ profile

### ğŸ‘¨â€ğŸ“ Quáº£n lÃ½ sinh viÃªn
- CRUD thÃ´ng tin sinh viÃªn
- Tra cá»©u sinh viÃªn theo mÃ£/tÃªn
- Quáº£n lÃ½ ngÃ nh há»c
- Import/Export danh sÃ¡ch

### ğŸ’° Quáº£n lÃ½ há»c phÃ­
- Tra cá»©u há»c phÃ­ theo sinh viÃªn
- Táº¡o hÃ³a Ä‘Æ¡n há»c phÃ­
- TÃ­nh toÃ¡n há»c phÃ­ theo ngÃ nh
- Lá»‹ch sá»­ há»c phÃ­

### ğŸ’³ Thanh toÃ¡n
- Thanh toÃ¡n há»c phÃ­ online
- XÃ¡c thá»±c OTP
- Lá»‹ch sá»­ giao dá»‹ch
- HÃ³a Ä‘Æ¡n Ä‘iá»‡n tá»­

### ğŸ“§ ThÃ´ng bÃ¡o
- Gá»­i email xÃ¡c nháº­n thanh toÃ¡n
- ThÃ´ng bÃ¡o há»c phÃ­ Ä‘áº¿n háº¡n
- Email OTP
- BÃ¡o cÃ¡o Ä‘á»‹nh ká»³

---

## ğŸ› ï¸ CÃ´ng nghá»‡ sá»­ dá»¥ng

### Backend
| CÃ´ng nghá»‡ | PhiÃªn báº£n | Má»¥c Ä‘Ã­ch |
|-----------|-----------|----------|
| **Spring Boot** | 3.5.5 | Framework backend |
| **Spring Cloud** | 2025.0.0 | Microservices toolkit |
| **Eureka Server** | Latest | Service Discovery |
| **Spring Cloud Gateway** | Latest | API Gateway |
| **MySQL** | 8.0 | Database |
| **Redis** | 7 | Cache & Session |
| **JWT** | Latest | Authentication |
| **JavaMail** | Latest | Email notification |

### Frontend
| CÃ´ng nghá»‡ | PhiÃªn báº£n | Má»¥c Ä‘Ã­ch |
|-----------|-----------|----------|
| **Flutter** | Stable | UI Framework |
| **Provider** | Latest | State Management |
| **HTTP** | Latest | API Client |
| **Nginx** | Alpine | Web Server |

### DevOps
| CÃ´ng nghá»‡ | PhiÃªn báº£n | Má»¥c Ä‘Ã­ch |
|-----------|-----------|----------|
| **Docker** | Latest | Containerization |
| **Docker Compose** | Latest | Orchestration |
| **Maven** | 3.9 | Build Tool |

---

## ğŸš€ Báº¯t Ä‘áº§u nhanh

### ğŸ“‹ YÃªu cáº§u há»‡ thá»‘ng

- **Docker Desktop** (Windows/Mac) hoáº·c **Docker Engine** (Linux)
- **RAM:** Tá»‘i thiá»ƒu 8GB (khuyáº¿n nghá»‹ 16GB)
- **Disk:** 10GB trá»‘ng
- **OS:** Windows 10+, macOS 10.14+, Ubuntu 20.04+

### âš¡ Khá»Ÿi Ä‘á»™ng há»‡ thá»‘ng

#### Cháº¡y toÃ n bá»™ há»‡ thá»‘ng:
```bash
docker-compose up -d
```

#### Chá»‰ cháº¡y frontend:
```bash
docker-compose up -d app-fe
```

#### Chá»‰ cháº¡y backend (khÃ´ng frontend):
```bash
docker-compose up -d mysql redis eureka-server api-gateway user-service student-service tuition-service payment-service notification-service
```

#### Manual setup (nÃ¢ng cao):
```bash
# 1. Táº¡o file cáº¥u hÃ¬nh
cp .env.example .env

# 2. Build vÃ  khá»Ÿi Ä‘á»™ng
docker-compose build
docker-compose up -d

# 3. Kiá»ƒm tra tráº¡ng thÃ¡i
docker-compose ps
```

### ğŸŒ Truy cáº­p á»©ng dá»¥ng

Sau khi khá»Ÿi Ä‘á»™ng thÃ nh cÃ´ng (1-2 phÃºt):

| Service | URL | MÃ´ táº£ |
|---------|-----|-------|
| **Frontend** | http://localhost | Giao diá»‡n ngÆ°á»i dÃ¹ng |
| **API Gateway** | http://localhost:8086 | API Gateway |
| **Eureka Dashboard** | http://localhost:8761 | Service Registry |
| **MySQL** | localhost:3307 | Database (root/root) |
| **Redis** | localhost:6379 | Cache |

---

## ğŸ“š TÃ i liá»‡u

### HÆ°á»›ng dáº«n nhanh
- ğŸ“„ [TLDR.md](./docs/TLDR.md) - Báº¯t Ä‘áº§u trong 2 phÃºt
- ğŸ“„ [START_HERE.md](./docs/START_HERE.md) - HÆ°á»›ng dáº«n Ä‘áº§y Ä‘á»§
- ğŸ“„ [QUICK_REFERENCE.md](./docs/QUICK_REFERENCE.md) - Tham kháº£o nhanh

### TÃ i liá»‡u chi tiáº¿t
- ğŸ“– [DOCKER_GUIDE.md](./docs/DOCKER_GUIDE.md) - HÆ°á»›ng dáº«n Docker
- ğŸ“– [DEPLOYMENT_GUIDE.md](./docs/DEPLOYMENT_SUMMARY.md) - Deployment
- ğŸ“– [API_DOCUMENTATION.md](./docs/API_ROUTES_GUIDE.md) - API Routes

### Checklist & Tools
- âœ… [DEPLOYMENT_CHECKLIST.md](./docs/DEPLOYMENT_CHECKLIST.md) - Checklist
- ğŸ› ï¸ [DOCUMENTATION_INDEX.md](./docs/DOCUMENTATION_INDEX.md) - Danh má»¥c tÃ i liá»‡u

---

## ğŸ—ï¸ Kiáº¿n trÃºc há»‡ thá»‘ng

### Tá»•ng quan

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Client Browser                  â”‚
â”‚              (Frontend - Flutter Web)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ HTTP/HTTPS
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            API Gateway (Port 8086)              â”‚
â”‚         Spring Cloud Gateway + Load Balancer    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Eureka Server (Port 8761)               â”‚
â”‚              Service Discovery                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼              â–¼              â–¼          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User Service â”‚ â”‚ Student  â”‚ â”‚ Tuition  â”‚ â”‚ Payment â”‚
â”‚   (8081)     â”‚ â”‚ Service  â”‚ â”‚ Service  â”‚ â”‚ Service â”‚
â”‚              â”‚ â”‚  (8082)  â”‚ â”‚  (8083)  â”‚ â”‚ (8084)  â”‚
â”‚ - Auth/JWT   â”‚ â”‚ - CRUD   â”‚ â”‚ - Fees   â”‚ â”‚ - Pay   â”‚
â”‚ - Users      â”‚ â”‚ - Search â”‚ â”‚ - Cache  â”‚ â”‚ - OTP   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
       â”‚              â”‚             â”‚            â”‚
       â–¼              â–¼             â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   user_db    â”‚ â”‚ student  â”‚ â”‚    tuition_db       â”‚
â”‚   (MySQL)    â”‚ â”‚   _db    â”‚ â”‚     (MySQL)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â–¼                â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚  Redis   â”‚    â”‚Notificationâ”‚
                        â”‚  Cache   â”‚    â”‚  Service   â”‚
                        â”‚  (6379)  â”‚    â”‚   (8085)   â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  - Email   â”‚
                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Microservices

#### ğŸ” User Service (8081)
- **Chá»©c nÄƒng:** Quáº£n lÃ½ ngÆ°á»i dÃ¹ng vÃ  xÃ¡c thá»±c
- **Database:** user_db
- **CÃ´ng nghá»‡:** Spring Security, JWT
- **Endpoints:** `/api/users/*`, `/api/auth/*`

#### ğŸ‘¨â€ğŸ“ Student Service (8082)
- **Chá»©c nÄƒng:** Quáº£n lÃ½ thÃ´ng tin sinh viÃªn
- **Database:** student_db
- **CÃ´ng nghá»‡:** Spring Data JPA
- **Endpoints:** `/api/students/*`

#### ğŸ’° Tuition Service (8083)
- **Chá»©c nÄƒng:** Quáº£n lÃ½ há»c phÃ­
- **Database:** tuition_db
- **Cache:** Redis
- **Endpoints:** `/api/tuition/*`

#### ğŸ’³ Payment Service (8084)
- **Chá»©c nÄƒng:** Xá»­ lÃ½ thanh toÃ¡n
- **Database:** tuition_db (shared)
- **Cache:** Redis
- **Endpoints:** `/api/payments/*`

#### ğŸ“§ Notification Service (8085)
- **Chá»©c nÄƒng:** Gá»­i email thÃ´ng bÃ¡o
- **CÃ´ng nghá»‡:** JavaMail
- **Endpoints:** `/api/notifications/*`

#### ğŸšª API Gateway (8086)
- **Chá»©c nÄƒng:** Routing, Load Balancing
- **CÃ´ng nghá»‡:** Spring Cloud Gateway
- **Routes:** Táº¥t cáº£ request tá»« client

#### ğŸ” Eureka Server (8761)
- **Chá»©c nÄƒng:** Service Discovery
- **CÃ´ng nghá»‡:** Netflix Eureka
- **Dashboard:** http://localhost:8761

---

## ğŸ”§ Quáº£n lÃ½ vÃ  váº­n hÃ nh

### Scripts cÃ³ sáºµn

#### Windows Batch (.bat)
```batch
scripts\quick-start.bat      REM Khá»Ÿi Ä‘á»™ng nhanh
scripts\health-check.bat     REM Kiá»ƒm tra sá»©c khá»e
scripts\backup-db.bat        REM Backup database
scripts\preflight-check.bat  REM Kiá»ƒm tra trÆ°á»›c khi deploy
```

#### PowerShell (.ps1)
```powershell
.\scripts\quick-start.ps1      # Khá»Ÿi Ä‘á»™ng nhanh
.\scripts\health-check.ps1     # Kiá»ƒm tra sá»©c khá»e
.\scripts\backup-db.ps1        # Backup database
.\scripts\restore-db.ps1       # Restore database
.\scripts\docker-scripts.ps1   # CÃ´ng cá»¥ quáº£n lÃ½
.\scripts\preflight-check.ps1  # Kiá»ƒm tra trÆ°á»›c khi deploy
```

### Docker Commands

```bash
# Khá»Ÿi Ä‘á»™ng
docker-compose up -d

# Dá»«ng
docker-compose stop

# Xem logs
docker-compose logs -f

# Xem logs cá»§a service cá»¥ thá»ƒ
docker-compose logs -f student-service

# Restart service
docker-compose restart student-service

# Rebuild service
docker-compose build student-service
docker-compose up -d student-service

# Xem tráº¡ng thÃ¡i
docker-compose ps

# Dá»«ng vÃ  xÃ³a táº¥t cáº£
docker-compose down -v
```

---

## ğŸ” Báº£o máº­t

### Authentication & Authorization
- **JWT Tokens** cho authentication
- **Role-based access control** (ADMIN, USER)
- **Password hashing** vá»›i BCrypt
- **OTP verification** cho thanh toÃ¡n

### Best Practices
- âœ… KhÃ´ng commit file `.env`
- âœ… Äá»•i táº¥t cáº£ passwords trong production
- âœ… Sá»­ dá»¥ng HTTPS cho production
- âœ… Enable database encryption
- âœ… Regular security updates

---

## ğŸ“Š Monitoring & Logging

### Health Checks
```bash
# Sá»­ dá»¥ng script
.\scripts\health-check.ps1

# Manual check
curl http://localhost:8761   # Eureka
curl http://localhost:8086   # API Gateway
```

### Logs
```bash
# All services
docker-compose logs -f

# Specific service
docker-compose logs -f user-service

# Search for errors
docker-compose logs | findstr /i "error"
```

### Metrics
- **Eureka Dashboard:** http://localhost:8761
- **Docker Stats:** `docker stats`
- **Service Health:** Actuator endpoints

---

## ğŸ§ª Testing

### Unit Tests
```bash
# Run tests in container
docker-compose exec user-service mvn test
```

### Integration Tests
```bash
# Test with Bruno API Client
# See bruno-api/ folder for API collections
```

### Manual Testing
1. Truy cáº­p Frontend: http://localhost
2. ÄÄƒng kÃ½ tÃ i khoáº£n má»›i
3. ÄÄƒng nháº­p
4. Test cÃ¡c chá»©c nÄƒng CRUD
5. Test thanh toÃ¡n vá»›i OTP

---

## ğŸ¤ ÄÃ³ng gÃ³p

ChÃºng tÃ´i ráº¥t hoan nghÃªnh má»i Ä‘Ã³ng gÃ³p! Vui lÃ²ng:

1. Fork repository
2. Táº¡o feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to branch (`git push origin feature/AmazingFeature`)
5. Táº¡o Pull Request

### Coding Standards
- Java: Follow Google Java Style Guide
- Flutter: Follow Effective Dart
- Commit messages: Conventional Commits
- Documentation: Always update docs

---

## ğŸ› Troubleshooting

### Port Ä‘Ã£ Ä‘Æ°á»£c sá»­ dá»¥ng
```bash
# TÃ¬m process Ä‘ang dÃ¹ng port
netstat -ano | findstr :8081

# Kill process
taskkill /PID <PID> /F
```

### Service khÃ´ng káº¿t ná»‘i Ä‘Æ°á»£c
1. Kiá»ƒm tra Eureka: http://localhost:8761
2. Äá»£i 30-60 giÃ¢y cho services Ä‘Äƒng kÃ½
3. Check logs: `docker-compose logs -f service-name`
4. Restart: `docker-compose restart service-name`

### Database connection error
```bash
# Check MySQL
docker-compose logs mysql

# Verify databases
docker-compose exec mysql mysql -uroot -proot -e "SHOW DATABASES;"

# Restart
docker-compose restart mysql
```

### Build failed
```bash
# Clean build
docker-compose build --no-cache

# Remove old images
docker-compose down --rmi all
docker-compose build
```

---

## ğŸ“ˆ Roadmap

### Phase 1 - âœ… Completed
- [x] Microservices architecture
- [x] Service Discovery
- [x] API Gateway
- [x] Docker deployment
- [x] Basic CRUD operations

### Phase 2 - ğŸš§ In Progress
- [ ] Enhanced security
- [ ] Performance optimization
- [ ] Comprehensive testing
- [ ] CI/CD pipeline

### Phase 3 - ğŸ“‹ Planned
- [ ] Kubernetes deployment
- [ ] Monitoring dashboard
- [ ] Mobile app (Flutter)
- [ ] Advanced analytics
- [ ] Payment gateway integration

---

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---

## ğŸ™ Acknowledgments

- Spring Boot Team
- Flutter Team
- Docker Community
- Open Source Contributors

---

<div align="center">

**Made with â¤ï¸ by iBanking Team**

[â¬† Back to top](#-ibanking---há»‡-thá»‘ng-ngÃ¢n-hÃ ng-trá»±c-tuyáº¿n)

</div>
